function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=r.parcelRequireef31;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},r.parcelRequireef31=o),o.register("19PIa",(function(r,a){t(r.exports,"onOpenHeroModal",(function(){return d})),t(r.exports,"getFilmOfDayId",(function(){return h}));var n=o("jtGqB"),i=o("fQLeO");const c={heroModal:document.querySelector(".hero-modal"),overlay:document.querySelector(".hero-overlay"),modalContainer:document.querySelector(".hero-modal-container"),closeBtn:document.querySelector(".hero-close-btn")};c.closeBtn.addEventListener("click",u),c.overlay.addEventListener("click",(function(e){e.target===e.currentTarget&&u()}));const l=new(0,n.MoviesAPI);let s;function d(){""===c.modalContainer.innerHTML&&v(s),window.addEventListener("keydown",f),c.heroModal.classList.add("active"),c.overlay.classList.add("active")}function u(){window.removeEventListener("keydown",f),c.heroModal.classList.remove("active"),c.overlay.classList.remove("active"),c.modalContainer.innerHTML=""}function f(e){"Escape"===e.code&&u()}function h(e){s=e,v(e)}async function v(e){try{!function(e){const t=e.find((e=>"Trailer"===e.type));t?function({key:e}){const t=`<iframe class='player'\n        width="100%"\n        height="100%"\n        src="https://www.youtube.com/embed/${e}"\n        title="YouTube video player"\n        frameborder="0"\n        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n        allowfullscreen\n      ></iframe>`;c.modalContainer.innerHTML=t}(t):m()}((await l.getFilmVideo(e)).results)}catch(e){m()}}function m(){const t=`<div class="hero-modal-box">\n      <p class="hero-modal-text">OOPS...</p>\n      <p class="hero-modal-text">We are very sorry!</p>\n      <p class="hero-modal-text">But we couldn’t find the trailer.</p>\n    </div>\n    <img class="hero-modal-img" src="${e(i)}" alt="Cinema" />\n  </div>`;c.modalContainer.innerHTML=t}})),o.register("fQLeO",(function(e,t){e.exports=new URL(o("kyEFX").resolve("ckgan"),import.meta.url).toString()})),o("kyEFX").register(JSON.parse('{"1QCq1":"index.cfd7e443.js","ckgan":"error.3424b9df.png","8zLLO":"subtract_desktop_dark.73ee6931.png","fQU7c":"subtract-desktop-ligth.6e4f549b.png","1S4zF":"subtract-tablet-dark.926abdc2.png","eJEnv":"subtract-tablet-ligth.aefe61d5.png","9LcUY":"home_desktop.83972603.jpg","dc7im":"my-library.4dfab853.js"}'));var i=o("jtGqB");function c(e){let t=[];return t=e>=9.5?l([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"active",fifthStar:"active"}]):e>=8.5?l([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"active",fifthStar:"activehalf"}]):e>=7.5?l([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"active",fifthStar:"noactive"}]):e>=6.5?l([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"activehalf",fifthStar:"noactive"}]):e>=5.5?l([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"noactive",fifthStar:"noactive"}]):e>=4.5?l([{firstStar:"active",secondStar:"active",thirdStar:"activehalf",fourthStar:"noactive",fifthStar:"noactive"}]):e>=3.5?l([{firstStar:"active",secondStar:"active",thirdStar:"noactive",fourthStar:"noactive",fifthStar:"noactive"}]):e>=2.5?l([{firstStar:"active",secondStar:"activehalf",thirdStar:"noactive",fourthStar:"noactive",fifthStar:"noactive"}]):e<1.5?l([{firstStar:"activehalf",secondStar:"noactive",thirdStar:"noactive",fourthStar:"noactive",fifthStar:"noactive"}]):"Помилка: проблема у файлі catalog-rating-get.js",t}function l(e){return e.map((({firstStar:e,secondStar:t,thirdStar:r,fourthStar:a,fifthStar:n})=>`\n      <ul class="hero-vote-list">\n        <li class="hero-vote-item--${e}"></li>\n        <li class="hero-vote-item--${t}"></li>\n        <li class="hero-vote-item--${r}"></li>\n        <li class="hero-vote-item--${a}"></li>\n        <li class="hero-vote-item--${n}"></li>\n      </ul>\n          `)).join("")}var s,d=o("19PIa");s=new URL(o("kyEFX").resolve("8zLLO"),import.meta.url).toString();var u;u=new URL(o("kyEFX").resolve("fQU7c"),import.meta.url).toString();var f;f=new URL(o("kyEFX").resolve("1S4zF"),import.meta.url).toString();var h;h=new URL(o("kyEFX").resolve("eJEnv"),import.meta.url).toString();var v;v=new URL(o("kyEFX").resolve("9LcUY"),import.meta.url).toString();const m=new(0,i.MoviesAPI),S={container:document.querySelector(".hero-description"),hero:document.querySelector(".hero")};let p,g;function y(){"true"===localStorage.getItem("whitemode")?(p=e(u),g=e(h)):(p=e(s),g=e(f))}function b(e){window.matchMedia("(min-width: 1280px)").matches?S.hero.style.backgroundImage=`url('${p}'), url('${e}')`:window.matchMedia("(min-width: 768px)").matches?S.hero.style.backgroundImage=`url('${g}'), url('${e}')`:S.hero.style.backgroundImage=`linear-gradient(\n      87.8deg,\n      #0e0e0e 15.61%,\n      rgba(14, 14, 14, 0) 60.39%\n    ), url('${e}')`,window.addEventListener("resize",(function(t){const r=t.currentTarget.innerWidth;r>=1280?S.hero.style.backgroundImage=`url('${p}'), url('${e}')`:r>=768?S.hero.style.backgroundImage=`url('${g}'), url('${e}')`:r<768&&(S.hero.style.backgroundImage=`linear-gradient(\n      87.8deg,\n      #0e0e0e 15.61%,\n      rgba(14, 14, 14, 0) 60.39%\n    ), url('${e}')`)}))}y(),async function(){try{const e=await m.getTrendMoviesDay(),t=Math.floor(Math.random()*e.results.length);!function({backdrop_path:e,title:t,overview:r,vote_average:a,id:n}){const o=`https://image.tmdb.org/t/p/original${e}`;S.container.innerHTML=`<h2 class="hero-title">${t}</h2><div class='hero-vote'>${c(a)}</div><p class="hero-text hero-text-API">${r}</p>\n      <button type="button" class="btn hero-btn">Watch trailer</button>`;function i(){(0,d.getFilmOfDayId)(n),(0,d.onOpenHeroModal)()}function l(){y(),b(o)}document.querySelector(".hero-btn").addEventListener("click",i),b(o),document.querySelector(".switch__input").addEventListener("click",l)}(e.results[t]),(0,d.getFilmOfDayId)(e.results[t].id)}catch(t){!function(){function t(){y(),b(e(v))}S.container.innerHTML='<h2 class="hero-title">Let’s Make Your Own Cinema</h2><p class="hero-text">Is a guide to creating a personalized movie theater experience. You\'ll need a projector, screen, and speakers.<span class="hero-text-more">Decorate your space, choose your films, and stock up on snacks for the full experience.</span></p><a href="../catalog.html"" class="btn hero-btn">Get Started</a>',b(e(v)),document.querySelector(".switch__input").addEventListener("click",t)}()}}();
//# sourceMappingURL=index.cfd7e443.js.map

!function(){function t(t){return t&&t.__esModule?t.default:t}function e(t,e,a,n){Object.defineProperty(t,e,{get:a,set:n,enumerable:!0,configurable:!0})}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},c=a.parcelRequireef31;null==c&&((c=function(t){if(t in i)return i[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return i[t]=a,e.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){r[t]=e},a.parcelRequireef31=c),c.register("2ft06",(function(t,e){var a=document.querySelector(".switch__input"),n=localStorage.getItem("whitemode"),i=document.body;a.addEventListener("click",(function(){a.checked?(localStorage.setItem("whitemode","true"),i.classList.add("white-mode")):(localStorage.setItem("whitemode","false"),i.classList.remove("white-mode"))})),document.addEventListener("DOMContentLoaded",(function(){"true"===n?(a.checked=!0,i.classList.add("white-mode")):(a.checked=!1,i.classList.remove("white-mode"))}))})),c.register("5xtVg",(function(t,e){var a;"function"!=typeof(a=window.Element.prototype).matches&&(a.matches=a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||function(t){for(var e=this,a=(e.document||e.ownerDocument).querySelectorAll(t),i=0;a[i]&&a[i]!==e;)++i;return Boolean(o[n])}),"function"!=typeof a.closest&&(a.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll(".js-open-modal"),e=document.querySelector(".js-overlay-modal"),a=document.querySelectorAll(".js-modal-close");t.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var a=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+a+'"]').classList.add("active"),e.classList.add("active")}))})),a.forEach((function(t){t.addEventListener("click",(function(t){this.closest(".modal").classList.remove("active"),e.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(t){if(27==t.keyCode){var e=document.querySelector(".modal.active");e&&e.classList.remove("active");var a=document.querySelector(".overlay.active");a&&a.classList.remove("active")}}),!1),e.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}))})),c.register("cs7FV",(function(t,e){!function(){var t={openMenuBtn:document.querySelector(".menu-open-btn"),menu:document.querySelector(".mob-menu"),body:document.querySelector("body")};function e(){t.menu.classList.toggle("is-hidden"),t.body.classList.toggle("no-scroll"),t.body.classList.toggle("has-backdrop")}t.openMenuBtn.addEventListener("click",e),t.body.addEventListener("click",(function(e){e.target.closest(".mob-menu")||e.target.closest(".menu-open-btn")||(t.menu.classList.add("is-hidden"),t.body.classList.remove("no-scroll"),t.body.classList.remove("has-backdrop"))})),document.addEventListener("keydown",(function(t){"Escape"===t.code&&e()}))}()})),c.register("cHsZg",(function(a,n){e(a.exports,"onRenderLibraryCards",(function(){return d}));var i=c("bpxeT"),o=c("2TvXO"),r=c("j1Fxp"),s=c("k6s8D"),l=c("46Xxb");function d(){return u.apply(this,arguments)}function u(){return(u=t(i)(t(o).mark((function e(){var a,n,i;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.querySelector(".library-list"),!((n=JSON.parse(localStorage.getItem("libraryFilm"))||[]).length>0)){t.next=11;break}return t.next=5,(0,l.getCatalogCards)(n);case 5:i=t.sent,a.innerHTML=i,document.querySelectorAll(".catalog-list__list-link").forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),(0,s.openModalMovie)(t.dataset.id)}))})),t.next=12;break;case 11:return t.abrupt("return",a.innerHTML='<div class="container library-container-mistake">\n      <p class="library-empty__mistake">OOPS... <br> We are very sorry! <br> You don\'t have any movies at your library.</p>\n      <button class="btn btn-library" onclick="window.location.href=\'catalog.html\'"><a class="btn-library__link">Search movie</a></button>\n    </div>');case 12:case"end":return t.stop()}}),e)})))).apply(this,arguments)}(0,r.onScroll)(),(0,r.onToTopBtn)(),d()})),c.register("j1Fxp",(function(t,a){e(t.exports,"onScroll",(function(){return i})),e(t.exports,"onToTopBtn",(function(){return o}));var n=document.querySelector(".go-to-top");function i(){var t=window.pageYOffset;t>400&&n.classList.add("go-to-top--visible"),t<400&&n.classList.remove("go-to-top--visible")}function o(){window.pageYOffset>0&&window.scrollTo({top:0,left:0,behavior:"smooth"})}n.addEventListener("click",o),window.addEventListener("scroll",i)})),c.register("k6s8D",(function(a,n){e(a.exports,"openModalMovie",(function(){return p}));var i=c("bpxeT"),o=c("2TvXO"),r=c("ay25s"),s=c("dLu6O"),l=c("g2eo5"),d=c("1yMHa"),u=c("cHsZg"),m=c("aoF6d"),v=document.querySelector(".modal-card"),f=document.createElement("div");function p(t){return g.apply(this,arguments)}function g(){return(g=t(i)(t(o).mark((function e(a){var n,i,c;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){var t=document.querySelector(".btn-add-remove"),e=i.data;(JSON.parse(localStorage.getItem("libraryFilm"))||[]).flat().some((function(t){return t.id===e.id}))?(t.textContent="Remove from library",t.classList.add("remove"),t.addEventListener("click",(function(){(0,d.removeFromLibrary)(e.id),window.location.pathname.includes("my-library")&&(0,u.onRenderLibraryCards)(),c()}))):(t.textContent="Add to library",t.classList.remove("remove"),t.addEventListener("click",(function(){(0,l.addToLibrary)(e),window.location.pathname.includes("my-library")&&(0,u.onRenderLibraryCards)(),c()}))),document.querySelector(".watch-btn-modal").addEventListener("click",(function(){(0,m.getFilmOfDayId)(a),(0,m.onOpenHeroModal)()}))},console.log(a),n=new(0,s.MoviesAPI),e.prev=3,e.next=6,n.getMovieDetails(a);case 6:i=e.sent,v.classList.add("modal-movie--show"),f.classList.add("backdrop--show"),document.body.classList.add("modal-open"),v.innerHTML='\n     <svg class="close-btn js-modal-close" type="button">\n    <use href="'.concat(t(r),'#close-outline"></use>\n     </svg>\n      <div class="modal__card">\n      <div class="modal-card__wrapper">\n        <img class="modal-poster" src="https://image.tmdb.org/t/p/w500').concat(i.data.poster_path,'" alt="').concat(i.data.title,'" width="248" height="315">\n        <div class="modal-container__info">\n          <h2 class="modal-title">').concat(i.data.original_title,'</h2>\n          <div class="modal-container__details">\n  <ul class="modal-details__list list">\n    <li class="modal-details__item">Vote / Votes</li>\n    <li class="modal-details__item">Popularity</li>\n    <li class="modal-details__item">Genre</li>\n  </ul>\n  <ul class="modal-details__value-list list">\n    <li class="modal-details__value">\n      <span class="vote">').concat(i.data.vote_average,'</span>\n      <span class="slash">/</span>\n      <span class="vote">').concat(i.data.vote_count,'</span>\n    </li>\n    <li class="modal-details__value">').concat(i.data.popularity,'</li>\n    <li class="modal-details__value">').concat(i.data.genres[0].name,'</li>\n  </ul>\n</div>\n\n            <p class="modal-details__about">ABOUT</p>\n            <p class="modal-details__story">').concat(i.data.overview,'</p>\n          \n          <button class="btn-add-remove">Add to my library</button>\n          <button class="watch-btn-modal">Watch trailer</button>\n        </div>\n      </div>\n      </div>\n    '),c(),v.querySelector(".js-modal-close").addEventListener("click",h),f.addEventListener("click",h),document.addEventListener("keydown",(function(t){27===t.keyCode&&h()})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[3,19]])})))).apply(this,arguments)}function h(){v.classList.remove("modal-movie--show"),v.innerHTML="",f.classList.remove("backdrop--show"),document.body.classList.remove("modal-open"),opanTrailerModal.removeEventListener("click",onOpenTrailerModal)}f.classList.add("modal-backdrop"),document.body.appendChild(f)})),c.register("ay25s",(function(t,e){t.exports=c("aNJCr").getBundleURL("lxh5P")+c("iE7OH").resolve("kxKJ3")})),c.register("g2eo5",(function(t,a){function n(t){var e=JSON.parse(localStorage.getItem("libraryFilm"))||[];e.flat().some((function(e){return e.id===t.id}))||(e.push(t),localStorage.setItem("libraryFilm",JSON.stringify(e)))}e(t.exports,"addToLibrary",(function(){return n}))})),c.register("1yMHa",(function(t,a){function n(t){var e=JSON.parse(localStorage.getItem("libraryFilm"))||[];e=e.flat().filter((function(e){return e.id!==t})),localStorage.setItem("libraryFilm",JSON.stringify(e))}e(t.exports,"removeFromLibrary",(function(){return n}))})),c.register("46Xxb",(function(a,n){e(a.exports,"getCatalogCards",(function(){return s}));var i=c("lPhMu"),o=c("lrjFe"),r=c("6HK1b");function s(e){return e.map((function(e){var a=e.title,n=e.genre_ids,c=e.genres,s=e.release_date,l=e.vote_average,d=e.poster_path,u=e.id;d=d?"https://image.tmdb.org/t/p/w500".concat(d):t(r);var m=Array.isArray(c)?c.slice(0,2).map((function(t){return t.name})).join(", "):(0,i.getGenres)(n);return"\n    <li class='catalog-list__item'>\n        <a href='#' class='catalog-list__list-link' data-id=\"".concat(u,"\" data-modal=\"movie-card\">\n            <div class='catalog-list__list-wrapper'>\n                <div class='catalog-list__info'>\n                    <h2 class='catalog-list__title'>").concat(a,"</h2>\n                    <div class='catalog-list__additional-info'>\n                        <p class='catalog-list__movie-type'>").concat(m," | ").concat(s.slice(0,4),"</p>\n                        <div class='catalog-list-rating'>").concat((0,o.getStarsRating)(l),"\n                        </div>\n                    </div>\n                </div>\n                <img\n                    src='").concat(d,"'\n                    alt='").concat(a,"'\n                    width='280'\n                    height='406'\n                    class='catalog-list__image'\n                />\n            </div>\n        </a>\n    </li> ")})).join("")}})),c.register("lPhMu",(function(a,n){e(a.exports,"getGenres",(function(){return o}));var i=c("aZ3a6");function o(e){return t(i).genres.filter((function(t){return e.includes(t.id)})).slice(0,2).map((function(t){return t.name})).join(", ")}})),c.register("aZ3a6",(function(t,e){t.exports=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}')})),c.register("lrjFe",(function(t,a){function n(t){return t>=9.5?i([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"active",fifthStar:"active"}]):t>=8.5?i([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"active",fifthStar:"activehalf"}]):t>=7.5?i([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"active",fifthStar:"noactive"}]):t>=6.5?i([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"activehalf",fifthStar:"noactive"}]):t>=5.5?i([{firstStar:"active",secondStar:"active",thirdStar:"active",fourthStar:"noactive",fifthStar:"noactive"}]):t>=4.5?i([{firstStar:"active",secondStar:"active",thirdStar:"activehalf",fourthStar:"noactive",fifthStar:"noactive"}]):t>=3.5?i([{firstStar:"active",secondStar:"active",thirdStar:"noactive",fourthStar:"noactive",fifthStar:"noactive"}]):t>=2.5?i([{firstStar:"active",secondStar:"activehalf",thirdStar:"noactive",fourthStar:"noactive",fifthStar:"noactive"}]):t<1.5?i([{firstStar:"activehalf",secondStar:"noactive",thirdStar:"noactive",fourthStar:"noactive",fifthStar:"noactive"}]):"Помилка: проблема у файлі catalog-rating-get.js"}function i(t){return t.map((function(t){var e=t.firstStar,a=t.secondStar,n=t.thirdStar,i=t.fourthStar,o=t.fifthStar;return'\n      <ul class="catalog-list-rating__list">\n        <li class="catalog-list-rating__list-item--'.concat(e,'"></li>\n        <li class="catalog-list-rating__list-item--').concat(a,'"></li>\n        <li class="catalog-list-rating__list-item--').concat(n,'"></li>\n        <li class="catalog-list-rating__list-item--').concat(i,'"></li>\n        <li class="catalog-list-rating__list-item--').concat(o,'"></li>\n      </ul>\n          ')})).join("")}e(t.exports,"getStarsRating",(function(){return n}))})),c.register("6HK1b",(function(t,e){t.exports=c("aNJCr").getBundleURL("lxh5P")+c("iE7OH").resolve("ahxed")})),c.register("94krt",(function(t,e){})),c.register("diaKp",(function(t,e){var a,n;a=document.querySelector(".films"),(n=document.createElement("div")).classList.add("loader"),n.textContent="Loading...",a.prepend(n),setTimeout((function(){return n.remove()}),400)})),c("iE7OH").register(JSON.parse('{"lxh5P":"my-library.318925d4.js","kxKJ3":"symbol-defs.2be55a3b.svg","ahxed":"nophoto.d3be914e.jpg"}'))}();
//# sourceMappingURL=my-library.318925d4.js.map

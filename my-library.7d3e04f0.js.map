{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCCHT,IAAME,EAAaC,SAASC,cAAc,kBACtCC,EAAoBC,aAAaC,QAAQ,aACvCC,EAAUL,SAASM,KAYzBP,EAAWQ,iBAAiB,SAV5B,WACMR,EAAWS,SACbL,aAAaM,QAAQ,YAAa,QAClCJ,EAAQK,UAAUC,IAAI,gBAEtBR,aAAaM,QAAQ,YAAa,SAClCJ,EAAQK,UAAUE,OAAO,c,IAgB7BZ,SAASO,iBAAiB,oBAV1B,WAC4B,SAAtBL,GACFH,EAAWS,SAAU,EACrBH,EAAQK,UAAUC,IAAI,gBAEtBZ,EAAWS,SAAU,EACrBH,EAAQK,UAAUE,OAAO,c,yCCtC5B,IAAUC,EACT,mBADSA,EAuBRC,OAAOC,QAAQC,WAtBOC,UACpBJ,EAAEI,QACDJ,EAAEK,mBACFL,EAAEM,oBACFN,EAAEO,uBACF,SAAUC,GACR,IACE,IAAIC,EAAIC,KAAMC,GAAKF,EAAEtB,UAAYsB,EAAEG,eAAeC,iBAAiBL,GAAIM,EAAI,EAC3EH,EAAEG,IAAMH,EAAEG,KAAOL,KAGfK,EACJ,OAAOC,QAAQC,EAAEC,G,GAErB,mBAAqBjB,EAAEkB,UACpBlB,EAAEkB,QAAU,SAAUV,GACrB,IAAK,IAAIC,EAAIC,KAAMD,GAAK,IAAMA,EAAEU,UAAY,CAC1C,GAAIV,EAAEL,QAAQI,GAAI,OAAOC,EACzBA,EAAIA,EAAEW,U,CAER,OAAO,I,GAIfjC,SAASO,iBAAiB,oBAAoB,W,kDAGxC2B,EAAelC,SAASC,cAAiB,qBAC3CkC,EAAkBnC,SAAC0B,iBAAc,mBAGnCU,EAAAC,SAA8B,SACRC,GACpBA,EAAA/B,iBAAA,kBACIc,G,yDAQYrB,SAAKC,cAAa,sBAClBsC,EAAS,M,wBAKcL,EAARxB,UAAVC,IAAJ,S,OAI0BwB,EAAbE,SAAR,SAAVC,GAC6BA,EAAL/B,iBAAjB,SAAT,SAAVc,GACqBE,KAALQ,QAAR,UAEmBrB,UAAVE,OAAP,UAC6BsB,EAARxB,UAAVE,OAAP,S,OAI6BZ,SAATM,KAALC,iBACY,SACA,SAAVc,GAGQ,GAAX,IAFCA,EAAFmB,QAEH,CACa,IAAJC,EAAdzC,SAATC,cAAd,iBACqCwC,GACEA,EAAZ/B,UAAVE,OAAP,UAG+B,IAAJ8B,EAAhB1C,SAATC,cAAV,mBACmCyC,GACEA,EAAdhC,UAAVE,OAAP,S,KAIqC,GAGEsB,EAAR3B,iBAAjB,SAAT,WACgCP,SAATC,cAAd,iBAAjBS,UAAAE,OAAO,UACiCW,KAALb,UAAVE,OAAP,S,4CCpFtB,IACO+B,KAAO,CACXC,YAAa5C,SAASC,cAAc,kBAEpC4C,KAAM7C,SAASC,cAAc,aAC7BK,KAAMN,SAASC,cAAc,UAE1B2C,YAAYrC,iBAAiB,SAElC,WACEoC,EAAKE,KAAKnC,UAAUoC,OAAO,aAC3BH,EAAKrC,KAAKI,UAAUoC,OAAO,aAC3BH,EAAKrC,KAAKI,UAAUoC,OAAO,e,oGCZ/B,IAAAC,EAAAC,EAAA,S,6DAuCsBC,I,OAAAC,EAAoBC,MAAA5B,KAAA6B,U,UAApBF,I,OAAAA,EAAfG,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,I,IACCC,EACFC,EAIIC,E,qEALFF,EAAkBzD,SAASC,cAAc,oBAC3CyD,EAAcE,KAAKC,MAAM1D,aAAaC,QAAQ,iBAAmB,IAGrDT,OAAS,GAAC,C,iCACG,EAAAmE,EAAAC,iBAAgBL,G,OAArCC,EAAYK,EAAAC,KAElBR,EAAgBS,UAAYP,EAEd3D,SAAS0B,iBAAiB,4BAClCW,SAAQ,SAAA8B,GACZA,EAAK5D,iBAAiB,SAAS,SAAA6D,GAC7BA,EAAMC,kBACN,EAAAC,EAAAC,gBAAeJ,EAAKK,QAAQ5E,G,wDAKxB6D,EAAgBS,UAAa,6U,6CAnBCf,MAAA5B,KAAA6B,U,EArC1C,EAAAqB,EAAAC,aACA,EAAAD,EAAAE,cA8DA1B,G,sIC/DA,IAAM2B,EAAW5E,SAASC,cAAc,cAKxC,SAAS4E,IACP,IAAMC,EAAWhE,OAAOiE,YAGpBD,EAAW,KACbF,EAASlE,UAAUC,IAAI,sBAErBmE,EAAW,KACbF,EAASlE,UAAUE,OAAO,qB,CAI9B,SAASoE,IACHlE,OAAOiE,YAAc,GACvBjE,OAAOmE,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,U,CAjBjDR,EAASrE,iBAAiB,QAASyE,GACnClE,OAAOP,iBAAiB,SAAUsE,E,2FCLlC,IAAA9B,EAAAC,EAAA,S,8EAMMqC,EAAUrF,SAASC,cAAc,eAEjCqF,EAAatF,SAASuF,cAAc,O,SAIpBC,EAAe5F,G,OAAf6F,EAActC,MAAA5B,KAAA6B,U,UAAdqC,I,OAAAA,EAAfpC,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,EAA8B5D,G,IAC7B8F,EAGEC,EA0CGC,E,yEAATA,EAAA,WACE,IAAMC,EAAyB7F,SAASC,cAAc,mBAChD6F,EAAcH,EAASI,MAEVnC,KAAKC,MAAM1D,aAAaC,QAAQ,iBAAmB,IAIrD4F,OAAOC,MAAK,SAAAC,G,OAASA,EAAMtG,KAAOkG,EAAYlG,E,KAGtBiG,EAAhBM,YAAc,sBACrCN,EAAuBnF,UAAUC,IAAI,UACrCkF,EAAuBtF,iBAAiB,SAAS,YAC/C,EAAA6F,EAAAC,mBAAkBP,EAAYlG,IAG1BkB,OAAOwF,SAASC,SAASC,SAAS,gBAEpC,EAAAC,EAAAC,wBAEFd,G,MAKoCC,EAAfM,YAAc,iBACrCN,EAAuBnF,UAAUE,OAAO,UACxCiF,EAAuBtF,iBAAiB,SAAS,YAC/C,EAAAoG,EAAAC,cAAad,GAIThF,OAAOwF,SAASC,SAASC,SAAS,gBAEpC,EAAAC,EAAAC,wBAEFd,G,MAlFFF,EAAY,IAAI,EAAAmB,EAAAC,W,kBAGGpB,EAAUqB,gBAAgBnH,G,OAA3C+F,EAAQ3B,EAAAC,KACdoB,EAAQ3E,UAAUC,IAAI,qBACtB2E,EAAW5E,UAAUC,IAAI,kBACzBX,SAASM,KAAKI,UAAUC,IAAI,cAC5B0E,EAAQnB,UAAY,+EAMgD8C,OAJvD3D,EAAA4D,GAAW,yLAI+ED,OAAnCrB,EAASI,KAAKmB,YAAY,WAE9DF,OAFuErB,EAASI,KAAKoB,MAAM,gHAWpGH,OATSrB,EAASI,KAAKqB,eAAe,0XAWtCJ,OAFArB,EAASI,KAAKsB,aAAa,0EAIfL,OAFZrB,EAASI,KAAKuB,WAAW,6DAGbN,OADArB,EAASI,KAAKwB,WAAW,gDAMlBP,OALPrB,EAASI,KAAKyB,OAAO,GAAGC,KAAK,iIAKCT,OAAvBrB,EAASI,KAAK2B,SAAS,6MAoDjE9B,IAGsBP,EAAQpF,cAAc,mBAC9BM,iBAAiB,QAASoH,GACxCrC,EAAW/E,iBAAiB,QAASoH,GAErC3H,SAASO,iBAAiB,WAAW,SAAA6D,GACb,KAAlBA,EAAM5B,SACRmF,G,sDAIJC,QAAQC,IAAG7D,EAAA8D,I,2DApGqB3E,MAAA5B,KAAA6B,U,CAwG7B,SAASuE,IACdtC,EAAQ3E,UAAUE,OAAO,qBACzByE,EAAQnB,UAAY,GACpBoB,EAAW5E,UAAUE,OAAO,kBAC5BZ,SAASM,KAAKI,UAAUE,OAAO,a,CA/GjC0E,EAAW5E,UAAUC,IAAI,kBACzBX,SAASM,KAAKyH,YAAYzC,E,sCCV1B0C,EAAAC,QAAiBjF,EAAA,SAAAkF,aAA6C,SAAWlF,EAAA,SAAAmF,QAA6C,Q,sCC8CtH,IAAAC,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BxI,GAC1B,IAAIsG,EAAQmC,EAAUzI,GAOtB,OALKsG,IACHA,EAOJ,WACE,IACE,MAAM,IAAIpG,K,CACV,MAAO2I,GACP,IAAIxH,GAAW,GAAKwH,EAAIC,OAAOC,MAAK,yDAEpC,GAAI1H,EAGF,OAAOqH,EAAWrH,EAAQ,G,CAI9B,MAAO,G,CApBG2H,GACRP,EAAUzI,GAAMsG,GAGXA,C,uCCZF,SAAS2C,EAAa/C,GAEG,IAA1BgD,EAAelF,KAAKC,MAAM1D,aAAaC,QAAQ,iBAAmB,GAOlE0I,EAAa9C,OAAOC,MAAK,SAAAC,G,OAASA,EAAMtG,KAAOkG,EAAYlG,E,MAOpCkJ,EAAZC,KAAKjD,GAKpB3F,aAAaM,QAAQ,cAAemD,KAAKoF,UAAUF,I,yFCrB9C,SAASG,EAAkBC,GAGe,IAA3CJ,EAAelF,KAAKC,MAAM1D,aAAaC,QAAQ,iBAAmB,GAI7C0I,EAAVA,EAAa9C,OAAOmD,QAAO,SAAAjD,G,OAASA,EAAMtG,KAAOsJ,C,IAGhE/I,aAAaM,QAAQ,cAAemD,KAAKoF,UAAUF,G,oJCVrD,IAAAM,EAAApG,EAAA,S,0BAIO,SAASqG,EAAgBC,GAuD9B,OAtD2BA,EAExBC,KACC,SAAAC,G,IACErC,EAAKqC,EAALrC,MACAsC,EAASD,EAATC,UACAjC,EAAMgC,EAANhC,OACAkC,EAAYF,EAAZE,aACArC,EAAYmC,EAAZnC,aACAH,EAAWsC,EAAXtC,YACAtH,EAAE4J,EAAF5J,GAGEsH,EADEA,EACY,kCAA8CF,OAAZE,GAElC7D,EAAAsG,GAEhB,IAAMC,EAAaC,MAAMC,QAAQtC,GAC7BA,EACGuC,MAAM,EAAG,GACTR,KAAI,SAAAS,G,OAASA,EAAMvC,I,IACnBwC,KAAK,OACR,EAAAb,EAAAc,WAAUT,GACd,MAAO,wGAKuCzC,OAHSpH,EAAG,+LAKJoH,OAFRG,EAAM,wIAEkBH,OAAhB4C,EAAW,OAId5C,OAJmB0C,EAAaK,MACjF,EACA,GACA,mEAQiB/C,QAPgC,EAAAmD,EAAAC,gBACjC/C,GACA,yIAMCL,OADAE,EAAY,gCACNF,OAANG,EAAM,0L,IAU5B8C,KAAK,G,uFCzDV,IAAAI,EAAArH,EAAA,SAGO,SAASsH,EAAUC,GAaxB,OAZwBlH,EAAAgH,GAAqB7C,OAGd2B,QAAO,SAAAa,G,OAASO,EAAI/D,SAASwD,EAAMpK,G,IAI/DmK,MAAM,EAAG,GACTR,KAAI,SAAAS,G,OAASA,EAAMvC,I,IACnBwC,KAAK,K,uCCbVjC,EAAAC,QAAiBrE,KAAKC,MAAM,siB,sCCArB,SAAS2G,EAAenD,GAgG7B,OA9FIA,GAAgB,IACXoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,SACZC,UAAW,YAGNzD,GAAgB,IAClBoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,SACZC,UAAW,gBAGNzD,GAAgB,IAClBoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,SACZC,UAAW,cAGNzD,GAAgB,IAClBoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,aACZC,UAAW,cAGNzD,GAAgB,IAClBoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,WACZC,UAAW,cAGNzD,GAAgB,IAClBoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,aACXC,WAAY,WACZC,UAAW,cAGNzD,GAAgB,IAClBoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,WACXC,WAAY,WACZC,UAAW,cAGNzD,GAAgB,IAClBoD,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,aACZC,UAAW,WACXC,WAAY,WACZC,UAAW,cAGNzD,EAAe,IACjBoD,EAAgB,CACrB,CACEC,UAAW,aACXC,WAAY,WACZC,UAAW,WACXC,WAAY,WACZC,UAAW,cAIR,iD,CAMX,SAASL,EAAgBM,GAevB,OAdoBA,EACjBxB,KAAI,SAAAC,G,IAAGkB,EAASlB,EAATkB,UAAWC,EAAUnB,EAAVmB,WAAYC,EAASpB,EAAToB,UAAWC,EAAUrB,EAAVqB,WAAYC,EAAStB,EAATsB,UACpD,MAAO,sGAGwC9D,OADA0D,EAAU,gEAEV1D,OADA2D,EAAW,gEAEX3D,OADA4D,EAAU,gEAEV5D,OADA6D,EAAW,gEACD7D,OAAV8D,EAAU,mC,IAI1Db,KAAK,G,2FChHVjC,EAAAC,QAAiBjF,EAAA,SAAAkF,aAA6C,SAAWlF,EAAA,SAAAmF,QAA6C,Q,4ECAtH,IACQ6C,EAGAC,EAHAD,EAAOhL,SAASC,cAAc,WAG9BgL,EAASjL,SAASuF,cAAc,QAE/B7E,UAAUC,IAAI,UACrBsK,EAAO9E,YAAc,aACrB6E,EAAKE,QAAQD,GAGbE,YAAW,W,OAAMF,EAAOrK,Q,GAAU,I,ICXpCoC,EAAA,SAAAoI,SAA8CxH,KAAKC,MAAM,2J","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/color-theme.js","src/js/modal.js","src/js/mobile-menu.js","src/js/library.js","src/js/scroll.js","src/js/modal-window/modal-movie.js","node_modules/@parcel/runtime-js/lib/runtime-938bad437cc6aef5.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/js/modal-window/add-to-library.js","src/js/modal-window/remove-from-my-library.js","src/js/catalog-functions/catalog-cards-get.js","src/js/catalog-functions/catalog-genres-get.js","src/data/genres.json","src/js/catalog-functions/catalog-rating-get.js","node_modules/@parcel/runtime-js/lib/runtime-3ac8829417b5f9a8.js","src/js/spiner.js","node_modules/@parcel/runtime-js/lib/runtime-71467576816cbd5d.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","// function whitemode() {\n//   const body = document.body;\n//   const wasWhitemode = localStorage.getItem('whitemode') === 'true';\n\n//   localStorage.setItem('whitemode', !wasWhitemode);\n//   body.classList.toggle('white-mode');\n// }\n\n// document.querySelector('.switch__input').addEventListener('click', whitemode);\n\n// function onload() {\n//   document.body.classList.toggle('white-mode', localStorage.getItem('whitemode') === 'true');\n// }\n\n// document.addEventListener('DOMContentLoaded', onload);\n\nconst checkBoxEl = document.querySelector('.switch__input');\nlet checkBoxWhitemode = localStorage.getItem('whitemode');\nconst bodyTag = document.body;\n\nfunction whitemode() {\n  if (checkBoxEl.checked) {\n    localStorage.setItem('whitemode', 'true');\n    bodyTag.classList.add('white-mode');\n  } else {\n    localStorage.setItem('whitemode', 'false');\n    bodyTag.classList.remove('white-mode');\n  }\n}\n\ncheckBoxEl.addEventListener('click', whitemode);\n\nfunction onload() {\n  if (checkBoxWhitemode === 'true') {\n    checkBoxEl.checked = true;\n    bodyTag.classList.add('white-mode');\n  } else {\n    checkBoxEl.checked = false;\n    bodyTag.classList.remove('white-mode');\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', onload);\n","(function (e) {\n  'function' != typeof e.matches &&\n    (e.matches =\n      e.msMatchesSelector ||\n      e.mozMatchesSelector ||\n      e.webkitMatchesSelector ||\n      function (e) {\n        for (\n          let t = this, o = (t.document || t.ownerDocument).querySelectorAll(e), n = 0;\n          o[n] && o[n] !== t;\n\n        )\n          ++n;\n        return Boolean(o[n]);\n      }),\n    'function' != typeof e.closest &&\n      (e.closest = function (e) {\n        for (let t = this; t && 1 === t.nodeType; ) {\n          if (t.matches(e)) return t;\n          t = t.parentNode;\n        }\n        return null;\n      });\n})(window.Element.prototype);\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  /* Записываем в переменные массив элементов-кнопок и подложку.\n       Подложке зададим id, чтобы не влиять на другие элементы с классом overlay*/\n  let modalButtons = document.querySelectorAll('.js-open-modal'),\n    overlay = document.querySelector('.js-overlay-modal'),\n    closeButtons = document.querySelectorAll('.js-modal-close');\n\n  /* Перебираем массив кнопок */\n  modalButtons.forEach(function (item) {\n    /* Назначаем каждой кнопке обработчик клика */\n    item.addEventListener('click', function (e) {\n      /* Предотвращаем стандартное действие элемента. Так как кнопку разные\n             люди могут сделать по-разному. Кто-то сделает ссылку, кто-то кнопку.\n             Нужно подстраховаться. */\n      e.preventDefault();\n\n      /* При каждом клике на кнопку мы будем забирать содержимое атрибута data-modal\n             и будем искать модальное окно с таким же атрибутом. */\n      let modalId = this.getAttribute('data-modal'),\n        modalElem = document.querySelector('.modal[data-modal=\"' + modalId + '\"]');\n\n      /* После того как нашли нужное модальное окно, добавим классы\n             подложке и окну чтобы показать их. */\n      modalElem.classList.add('active');\n      overlay.classList.add('active');\n    }); // end click\n  }); // end foreach\n\n  closeButtons.forEach(function (item) {\n    item.addEventListener('click', function (e) {\n      let parentModal = this.closest('.modal');\n\n      parentModal.classList.remove('active');\n      overlay.classList.remove('active');\n    });\n  }); // end foreach\n\n  document.body.addEventListener(\n    'keyup',\n    function (e) {\n      let key = e.keyCode;\n\n      if (key == 27) {\n        let activeModal = document.querySelector('.modal.active');\n        if (activeModal) {\n          activeModal.classList.remove('active');\n        }\n\n        let activeOverlay = document.querySelector('.overlay.active');\n        if (activeOverlay) {\n          activeOverlay.classList.remove('active');\n        }\n      }\n    },\n    false\n  );\n\n  overlay.addEventListener('click', function () {\n    document.querySelector('.modal.active').classList.remove('active');\n    this.classList.remove('active');\n  });\n}); // end ready\n","(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('.menu-open-btn'),\n    // closeMenuBtn: document.querySelector('.menu-close-btn'),\n    menu: document.querySelector('.mob-menu'),\n    body: document.querySelector('body'),\n  };\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    refs.body.classList.toggle('no-scroll');\n    refs.body.classList.toggle('has-backdrop');\n  }\n})();\n","import { onScroll, onToTopBtn } from './scroll';\n\nonScroll();\nonToTopBtn();\n\n//добавить импорт модалки..\nimport { openModalMovie } from './modal-window/modal-movie';\n\n// import { addAndRemoveToLocalStorage, getFromStorage } from './localStorage';\n// import { createUpcomingMovies } from './catalog-functions/upcoming-markup';\nimport { getCatalogCards } from './catalog-functions/catalog-cards-get';\n// import { formToJSON } from 'axios';\n// export {  };\n// function addMovieToLibrary(movieId) {\n//   getMovieById2(movieId).then(movie => {\n//     movie.genre_names = movie.genres\n//       .map(genre => {\n//         return genre.name;\n//       })\n//       .slice(0, 2)\n//       .join(',');\n//     if (movie.release_date) {\n//       movie.release_date = movie.release_date.slice(0, 4);\n//     }\n//     let libraries = JSON.parse(localStorage.getItem(librariesKey));\n//     if (!libraries) {\n//       libraries = {};\n//     }\n//     libraries[movie.id] = movie;\n//     localStorage.setItem(librariesKey, JSON.stringify(libraries));\n//   });\n// }\n\n// function removeMovieFromLibrary(movieId) {\n//   let libraries = JSON.parse(localStorage.getItem(librariesKey));\n//   delete libraries[movieId];\n//   localStorage.setItem(librariesKey, JSON.stringify(libraries));\n// }\n\nexport async function onRenderLibraryCards() {\n  const moviesContainer = document.querySelector('.library-list');\n  let savedMovies = JSON.parse(localStorage.getItem('libraryFilm')) || [];\n  // console.log(savedMovies);\n\n  if (savedMovies.length > 0) {\n    const moviesMarkUp = await getCatalogCards(savedMovies);\n    // console.log(moviesMarkUp);\n    moviesContainer.innerHTML = moviesMarkUp;\n\n    const links = document.querySelectorAll('.catalog-list__list-link');\n    links.forEach(link => {\n      link.addEventListener('click', event => {\n        event.preventDefault();\n        openModalMovie(link.dataset.id);\n      });\n    });\n  } else {\n    // console.log('Бачу ЕЛС');\n    return (moviesContainer.innerHTML = `<div class=\"container library-container-mistake\">\n      <p class=\"library-empty__mistake\">OOPS... <br> We are very sorry! <br> You don't have any movies at your library.</p>\n      <button class=\"btn btn-library\" onclick=\"window.location.href='catalog.html'\"><a class=\"btn-library__link\">Search movie</a></button>\n    </div>`);\n  }\n}\n\nonRenderLibraryCards();\n\n// const librariesKey = 'libraryFilm';\n// let page = 1;\n// let perPage = 9;\n\n// const loadMoreBtn = document.querySelector('.btn-load-more');\n\n// loadMoreBtn.addEventListener('click', () => {\n//   page += 1;\n//   onRenderLibraryCards();\n// });\n\n// loadMoreBtn.classList.remove('is-hidden');\n// if (allMovies.length > page * perPage) {\n//   loadMoreBtn.classList.add('is-hidden');\n// }\n// return markup;\n// if (perPage < 9) {\n//   loadMoreBtn.classList.add('is-hidden');\n//   return;\n// }\n\n// loadMoreBtn.classList.remove('is-hidden');\n","export { onScroll, onToTopBtn };\n\nconst toTopBtn = document.querySelector('.go-to-top');\n\ntoTopBtn.addEventListener('click', onToTopBtn);\nwindow.addEventListener('scroll', onScroll);\n\nfunction onScroll() {\n  const scrolled = window.pageYOffset;\n  // const coords = document.documentElement.clientHeight;\n\n  if (scrolled > 400) {\n    toTopBtn.classList.add('go-to-top--visible');\n  }\n  if (scrolled < 400) {\n    toTopBtn.classList.remove('go-to-top--visible');\n  }\n}\n\nfunction onToTopBtn() {\n  if (window.pageYOffset > 0) {\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  }\n}\n","import symboldefs from '../../images/symbol-defs.svg';\nimport { MoviesAPI } from '../MoviesAPI';\nimport { addToLibrary } from './add-to-library';\nimport { removeFromLibrary } from './remove-from-my-library';\nimport { onRenderLibraryCards } from '../library';\n\nconst modalEl = document.querySelector('.modal-card');\n\nconst backdropEl = document.createElement('div');\nbackdropEl.classList.add('modal-backdrop');\ndocument.body.appendChild(backdropEl);\n\nexport async function openModalMovie(id) {\n  const moviesAPI = new MoviesAPI();\n\n  try {\n    const response = await moviesAPI.getMovieDetails(id);\n    modalEl.classList.add('modal-movie--show');\n    backdropEl.classList.add('backdrop--show');\n    document.body.classList.add('modal-open');\n    modalEl.innerHTML = `\n     <svg class=\"close-btn js-modal-close\" type=\"button\">\n    <use href=\"${symboldefs}#close-outline\"></use>\n     </svg>\n      <div class=\"modal__card\">\n      <div class=\"modal-card__wrapper\">\n        <img class=\"modal-poster\" src=\"https://image.tmdb.org/t/p/w500${response.data.poster_path}\" alt=\"${response.data.title}\" width=\"248\" height=\"315\">\n        <div class=\"modal-container__info\">\n          <h2 class=\"modal-title\">${response.data.original_title}</h2>\n          <div class=\"modal-container__details\">\n  <ul class=\"modal-details__list list\">\n    <li class=\"modal-details__item\">Vote / Votes</li>\n    <li class=\"modal-details__item\">Popularity</li>\n    <li class=\"modal-details__item\">Genre</li>\n  </ul>\n  <ul class=\"modal-details__value-list list\">\n    <li class=\"modal-details__value\">\n      <span class=\"vote\">${response.data.vote_average}</span>\n      <span class=\"slash\">/</span>\n      <span class=\"vote\">${response.data.vote_count}</span>\n    </li>\n    <li class=\"modal-details__value\">${response.data.popularity}</li>\n    <li class=\"modal-details__value\">${response.data.genres[0].name}</li>\n  </ul>\n</div>\n\n            <p class=\"modal-details__about\">ABOUT</p>\n            <p class=\"modal-details__story\">${response.data.overview}</p>\n          \n          <button class=\"btn-add-remove\">Add to my library</button>\n          <button class=\"watch-btn-modal\">Watch trailer</button>\n        </div>\n      </div>\n      </div>\n    `;\n\n    // Функція виклику функції для додавання / видалення кнопок / фільму з локального сховища-----------------------------------------\n\n    function modalButtonCreation() {\n      const addRemoveLibraryButton = document.querySelector('.btn-add-remove');\n      const movieObject = response.data;\n\n      let libraryFilms = JSON.parse(localStorage.getItem('libraryFilm')) || [];\n      // console.log(`movieObject`, movieObject);\n      // console.log(libraryFilms.flat());\n\n      if (libraryFilms.flat().some(value => value.id === movieObject.id)) {\n        // console.log('Фільм є в Locale Storage');\n        // console.log('Нова назва кнопки + слухач з функцією видалення.');\n        addRemoveLibraryButton.textContent = 'Remove from library';\n        addRemoveLibraryButton.classList.add('remove');\n        addRemoveLibraryButton.addEventListener('click', function () {\n          removeFromLibrary(movieObject.id);\n          // console.log('Видалили з Locale Storage.');\n          // Якщо ми на сторінці my-library - запускаємо новий рендер сторінки onRenderLibraryCards()\n          if (window.location.pathname.includes('my-library')) {\n            // console.log('My-library is OPENED');\n            onRenderLibraryCards();\n          }\n          modalButtonCreation();\n        });\n      } else {\n        // console.log('Фільму немає в Locale Storage');\n        // console.log('Нова назва кноки іслухач з функцію додавання');\n        addRemoveLibraryButton.textContent = 'Add to library';\n        addRemoveLibraryButton.classList.remove('remove');\n        addRemoveLibraryButton.addEventListener('click', function () {\n          addToLibrary(movieObject);\n          // console.log(`movieObject (from modal-movie.js)`, movieObject);\n          // console.log('Вийшов з функції додавання Locale Storage', movieObject);\n          // Якщо ми на сторінці my-library - запускаємо новий рендер сторінки onRenderLibraryCards()\n          if (window.location.pathname.includes('my-library')) {\n            // console.log('My-library is OPENED');\n            onRenderLibraryCards();\n          }\n          modalButtonCreation();\n        });\n      }\n    }\n    modalButtonCreation();\n    // -----------------------------------------------------------------------------------------\n\n    const closeModalBtn = modalEl.querySelector('.js-modal-close');\n    closeModalBtn.addEventListener('click', closeModal);\n    backdropEl.addEventListener('click', closeModal);\n\n    document.addEventListener('keydown', event => {\n      if (event.keyCode === 27) {\n        closeModal();\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function closeModal() {\n  modalEl.classList.remove('modal-movie--show');\n  modalEl.innerHTML = '';\n  backdropEl.classList.remove('backdrop--show');\n  document.body.classList.remove('modal-open');\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('lxh5P') + require('./helpers/bundle-manifest').resolve(\"kxKJ3\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","export function addToLibrary(movieObject) {\n  // Отримати поточний список фільмів з Locale Storage\n  let libraryFilms = JSON.parse(localStorage.getItem('libraryFilm')) || [];\n  // Всі консоль логи нижче праюють тільки тоді, коли в\n  // console.log(`libraryFilms: `, libraryFilms);\n  // console.log(`libraryFilms.flat(): `, libraryFilms.flat());\n  // console.log(`libraryFilms[0].id: `, libraryFilms[0].id);\n  // console.log(`movieObject: `, movieObject);\n  // Перевірка чи такого фільму ще немає в Locale Storage\n  if (libraryFilms.flat().some(value => value.id === movieObject.id)) {\n    // Якщо фільм вже є, тоді поки що нічого не робимо\n    // console.log('Фільм вже додано в Locale Storage');\n    return;\n  } else {\n    // console.log('Такого фільму ще немає в Locale Storage, додаємо');\n    // Додаємо новий запис до масиву.\n    libraryFilms.push(movieObject);\n    // console.log(`movieObject: `, movieObject);\n    // console.log('libraryFilms: ', libraryFilms);\n  }\n  // Зберегти оновлений список фільмів у Locale Storage\n  localStorage.setItem('libraryFilm', JSON.stringify(libraryFilms));\n}\n","export function removeFromLibrary(movieId) {\n  //   console.log('Функція видалення фільму з локального сховища');\n  // Отримати поточний список фільмів з локального сховища\n  let libraryFilms = JSON.parse(localStorage.getItem('libraryFilm')) || [];\n  //   console.log(movieId);\n  //   console.log(libraryFilms.flat());\n  // Видаляємо запис з libraryFilms по ІД фільму\n  libraryFilms = libraryFilms.flat().filter(value => value.id !== movieId);\n  // console.log(libraryFilms);\n  // Зберегти оновлений список фільмів у локальному сховищі\n  localStorage.setItem('libraryFilm', JSON.stringify(libraryFilms));\n}\n","import { getGenres } from './catalog-genres-get';\nimport { getStarsRating } from './catalog-rating-get';\nimport posterNoPhoto from '/src/images/nophoto.jpg';\n\nexport function getCatalogCards(backendQuery) {\n  const catalogCardsMarkup = backendQuery\n\n    .map(\n      ({\n        title,\n        genre_ids,\n        genres,\n        release_date,\n        vote_average,\n        poster_path,\n        id,\n      }) => {\n        if (poster_path) {\n          poster_path = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        } else {\n          poster_path = posterNoPhoto;\n        }\n        const genreNames = Array.isArray(genres)\n          ? genres\n              .slice(0, 2)\n              .map(genre => genre.name)\n              .join(', ')\n          : getGenres(genre_ids);\n        return `\n    <li class='catalog-list__item'>\n        <a href='#' class='catalog-list__list-link' data-id=\"${id}\" data-modal=\"movie-card\">\n            <div class='catalog-list__list-wrapper'>\n                <div class='catalog-list__info'>\n                    <h2 class='catalog-list__title'>${title}</h2>\n                    <div class='catalog-list__additional-info'>\n                        <p class='catalog-list__movie-type'>${genreNames} | ${release_date.slice(\n          0,\n          4\n        )}</p>\n                        <div class='catalog-list-rating'>${getStarsRating(\n                          vote_average\n                        )}\n                        </div>\n                    </div>\n                </div>\n                <img\n                    src='${poster_path}'\n                    alt='${title}'\n                    width='280'\n                    height='406'\n                    class='catalog-list__image'\n                />\n            </div>\n        </a>\n    </li> `;\n      }\n    )\n    .join('');\n  // console.log(catalogCardsMarkup);\n  return catalogCardsMarkup;\n}\n","import genresFromLocaleFile from '/src/data/genres.json'; // Це локальний json з жанрами фільмів\n\n// Функція отримання жанрів з файлу '/src/data/genres.json\nexport function getGenres(ids) {\n  const genresLocalList = genresFromLocaleFile.genres;\n  //   console.log(genresLocalList[0].name);\n\n  const genres = genresLocalList.filter(genre => ids.includes(genre.id));\n  //   console.log(genres);\n\n  const genresNames = genres\n    .slice(0, 2)\n    .map(genre => genre.name)\n    .join(', ');\n  // console.log(genresNames);\n\n  return genresNames;\n}\n\n// import { MoviesAPI } from '../MoviesAPI';\n// export const moviesAPI = new MoviesAPI();\n\n// // Функція отримання жанрів з АПІ\n// export async function getGenres(ids) {\n//   try {\n//     const genresFromApi = await moviesAPI.getGenresList();\n//     // console.log(genresFromApi.data.genres);\n//     const genres = genresFromApi.data.genres.filter(genre =>\n//       ids.includes(genre.id)\n//     );\n//     let genresText = '';\n//     // console.log(genres.length);\n//     if (genres.length > 1) {\n//       genresText = `${genres[0].name}, ${genres[1].name}`;\n//     } else {\n//       genresText = `${genres[0].name}`;\n//     }\n//     console.log(genresText);\n//     return genresText;\n//   } catch (err) {\n//     console.log(err); // В консоль потрапляє, а в список фільмів ні\n//   }\n// }\n","{\n  \"genres\": [\n    { \"id\": 28, \"name\": \"Action\" },\n    { \"id\": 12, \"name\": \"Adventure\" },\n    { \"id\": 16, \"name\": \"Animation\" },\n    { \"id\": 35, \"name\": \"Comedy\" },\n    { \"id\": 80, \"name\": \"Crime\" },\n    { \"id\": 99, \"name\": \"Documentary\" },\n    { \"id\": 18, \"name\": \"Drama\" },\n    { \"id\": 10751, \"name\": \"Family\" },\n    { \"id\": 14, \"name\": \"Fantasy\" },\n    { \"id\": 36, \"name\": \"History\" },\n    { \"id\": 27, \"name\": \"Horror\" },\n    { \"id\": 10402, \"name\": \"Music\" },\n    { \"id\": 9648, \"name\": \"Mystery\" },\n    { \"id\": 10749, \"name\": \"Romance\" },\n    { \"id\": 878, \"name\": \"Science Fiction\" },\n    { \"id\": 10770, \"name\": \"TV Movie\" },\n    { \"id\": 53, \"name\": \"Thriller\" },\n    { \"id\": 10752, \"name\": \"War\" },\n    { \"id\": 37, \"name\": \"Western\" }\n  ]\n}\n","export function getStarsRating(vote_average) {\n  let vote = [];\n  if (vote_average >= 9.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'active',\n      },\n    ]);\n  } else if (vote_average >= 8.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'activehalf',\n      },\n    ]);\n  } else if (vote_average >= 7.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 6.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'activehalf',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 5.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 4.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'activehalf',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 3.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 2.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'activehalf',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average < 1.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'activehalf',\n        secondStar: 'noactive',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else {\n    vote = 'Помилка: проблема у файлі catalog-rating-get.js';\n  }\n  // console.log(vote);\n  return vote;\n}\n\nfunction renderStarsList(vote) {\n  const starsMarkup = vote\n    .map(({ firstStar, secondStar, thirdStar, fourthStar, fifthStar }) => {\n      return `\n      <ul class=\"catalog-list-rating__list\">\n        <li class=\"catalog-list-rating__list-item--${firstStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${secondStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${thirdStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${fourthStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${fifthStar}\"></li>\n      </ul>\n          `;\n    })\n    .join('');\n  // console.log(starsMarkup);\n  return starsMarkup;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('lxh5P') + require('./helpers/bundle-manifest').resolve(\"ahxed\");","function renderSpiner() {\n  const film = document.querySelector('.films');\n\n  // console.log(film);\n  const spiner = document.createElement('div');\n  // console.log(spiner);\n  spiner.classList.add('loader');\n  spiner.textContent = 'Loading...';\n  film.prepend(spiner);\n  // console.log(spiner);\n\n  setTimeout(() => spiner.remove(), 400);\n}\n\nrenderSpiner();\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"lxh5P\\\":\\\"my-library.7d3e04f0.js\\\",\\\"kxKJ3\\\":\\\"symbol-defs.2be55a3b.svg\\\",\\\"ahxed\\\":\\\"nophoto.d3be914e.jpg\\\"}\"));"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$1a337a6d718208c1$var$checkBoxEl","document","querySelector","$1a337a6d718208c1$var$checkBoxWhitemode","localStorage","getItem","$1a337a6d718208c1$var$bodyTag","body","addEventListener","checked","setItem","classList","add","remove","e1","window","Element","prototype","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","e","t","this","_$o","ownerDocument","querySelectorAll","_$n","Boolean","o","n","closest","nodeType","parentNode","overlay","closeButtons","modalButtons","forEach","item","modalId","keyCode","activeModal","activeOverlay","refs","openMenuBtn","menu","toggle","$bpxeT","parcelRequire","$93effc6fc56091ad$export$f3ed255e03a91070","$93effc6fc56091ad$var$_onRenderLibraryCards","apply","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","moviesContainer","savedMovies","moviesMarkUp","JSON","parse","$46Xxb","getCatalogCards","_ctx","sent","innerHTML","link","event","preventDefault","$k6s8D","openModalMovie","dataset","$j1Fxp","onScroll","onToTopBtn","$dd9e54e108f59881$var$toTopBtn","$dd9e54e108f59881$export$d4d89fd61e5416ee","scrolled","pageYOffset","$dd9e54e108f59881$export$4ad3adb70a9fd3fe","scrollTo","top","left","behavior","$ea2a31e2701da583$var$modalEl","$ea2a31e2701da583$var$backdropEl","createElement","$ea2a31e2701da583$export$3c9e96c8bb4f4ee4","$ea2a31e2701da583$var$_openModalMovie","moviesAPI","response","modalButtonCreation","addRemoveLibraryButton","movieObject","data","flat","some","value","textContent","$1yMHa","removeFromLibrary","location","pathname","includes","$cHsZg","onRenderLibraryCards","$g2eo5","addToLibrary","$dLu6O","MoviesAPI","getMovieDetails","concat","$ay25s","poster_path","title","original_title","vote_average","vote_count","popularity","genres","name","overview","$ea2a31e2701da583$export$3f6fecd573f3fa48","console","log","t0","appendChild","module","exports","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","err","stack","match","$7dd1ddf6834435ca$var$getBundleURL","$bac7fe4e2934b5c7$export$c8b00602aa21f122","libraryFilms","push","stringify","$122ebd42908bc119$export$acfc7dc7ffc23978","movieId","filter","$lPhMu","$2fe5e733814d7f70$export$70db69f8a333b830","backendQuery","map","param","genre_ids","release_date","$6HK1b","genreNames","Array","isArray","slice","genre","join","getGenres","$lrjFe","getStarsRating","$aZ3a6","$fe3c275bbde1411d$export$c5604fa8028da00","ids","$f9bb5f727f5ef788$export$41a923085f61d39d","$f9bb5f727f5ef788$var$renderStarsList","firstStar","secondStar","thirdStar","fourthStar","fifthStar","vote","film","spiner","prepend","setTimeout","register"],"version":3,"file":"my-library.7d3e04f0.js.map"}